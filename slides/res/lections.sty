\ProvidesPackage{res/lections}

\usepackage{wrapfig}

\usepackage{newtxsf}
\usepackage{fontspec}%[no-math]
\usepackage{minted}
\usepackage{ragged2e}
\usepackage{xcolor,colortbl}
\usepackage{xparse}
\usepackage{svg}
\usepackage{polyglossia}
\setdefaultlanguage[babelshorthands=true]{russian}
\setotherlanguages{english}

\usepackage{caption}
\usepackage{comment}

\captionsetup[figure]{labelformat=empty}% redefines the caption setup of the figures environment in the beamer class.

\usepackage{res/extlink}

\usepackage{xltxtra}

\defaultfontfeatures{Ligatures=TeX,Mapping=tex-text,Scale=MatchLowercase}

\def\SetCuprumFont#1{\expandafter#1
	[
    Ligatures=TeX,Scale=MatchLowercase,Kerning=On,
	Path=res/fonts/Cuprum/,
	BoldFont=Cuprum-Bold,
	ItalicFont=Cuprum-Italic,
	BoldItalicFont=Cuprum-BoldItalic
	]{Cuprum-Regular}
}

\def\SetJBMonoNLFont#1{\expandafter#1
	[
    Scale=MatchLowercase,
	Path=res/fonts/JBMonoNL/,
	BoldFont=JetBrainsMonoNL-SemiBold,
	ItalicFont=JetBrainsMonoNL-Italic,
	BoldItalicFont=JetBrainsMonoNL-SemiBoldItalic
	]{JetBrainsMonoNL-Regular}
}

\SetCuprumFont{\newfontfamily{\cyrillicfontsf}}
\SetCuprumFont{\setsansfont}
\SetCuprumFont{\setmainfont}

\SetJBMonoNLFont{\newfontfamily{\cyrillicfonttt}}
\SetJBMonoNLFont{\setmonofont}

\usemintedstyle{borland}

\input{./res/beamerthemeSPbU.sty}
\input{./res/beamercolorthemeSPbU.sty}

\providecommand{\tightlist}{%
	\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\newcommand{\preamble}{

\titlegraphic{%
	\includegraphics[height=15mm]{res/spbu_grey.pdf}\hfill%
	\includegraphics[height=10mm]{res/yadro_logo.png}
}

\author[Д.~В.~Луцив]{
	Луцив Дмитрий Вадимович
}

\institute[СПбГУ]{Кафедра системного программирования СПбГУ}

% , при поддержке Группы компаний <<Ядро>>

\date{}
}

\AtBeginSection[]{%
	\begin{frame}<beamer>
		%\thispagestyle{empty}
		%\frametitle{Содержание}
		\begin{center}
			\textbf{\Large \insertsection{}}
		\end{center}
		\tableofcontents[currentsection,sectionstyle=hide,subsectionstyle=hede/show/hide]
	\end{frame}
	%\addtocounter{framenumber}{-1}% If you don't want them to affect the slide number
}

\newcommand{\defn}[2]{\alert{\textbf{#1}}~---~#2}

\let\zzhrefzz\href
\renewcommand{\href}[2]{\zzhrefzz{#1}{#2~\extlink}}


\newcommand{\tocslide}{
	\begin{frame}{Содержание}
		\tableofcontents
	\end{frame}
}

\newcommand{\titleslide}{
	\thispagestyle{empty}
	\maketitle
}

\newcommand{\postamble}{
\section*{}


\begin{frame}[plain]

	\vfill

	\begin{center}
		\textbf{\Huge Вопросы}

		\includegraphics[height=5cm]{res/qr-edu-dluciv-name.png}\\

		\href{http://edu.dluciv.name/}{EDU.DLUCIV.NAME}
	\end{center}

	\vfill

\end{frame}

}
